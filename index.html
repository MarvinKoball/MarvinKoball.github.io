<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON File Uploader</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h1>Upload and Parse JSON File</h1>
    <form id="uploadForm">
        <input type="file" id="fileInput" accept=".json" />
        <button type="button" onclick="uploadFile()">Upload and Parse</button>
        <button type="button" class="red" onclick="resetQuestions()">clear answers</button>
    </form>
    <p id="file-status"></p>
    <p id="storage-status"></p>
    <div id="quiz-container">
        <div id="question"></div>
        <ul id="options"></ul>
        <button id="submit">Submit Answer</button>
        <p id="counter"></p>
        <div id="feedback"></div>
        <button id="next" style="display:none;">Next Question</button>
    </div>

    <script>
        function uploadFile() {
            const fileInput = document.getElementById('fileInput');
            const file = fileInput.files[0];

            if (!file) {
                document.getElementById('file-status').textContent = "Please select a file.";
                return;
            }

            const reader = new FileReader();

            reader.onload = function (event) {
                try {
                    const json = JSON.parse(event.target.result);
                    localStorage.setItem('root', JSON.stringify(json));
                    document.getElementById('file-status').textContent = "JSON file parsed and stored in local storage.";
                } catch (e) {
                    document.getElementById('file-status').textContent = "Error parsing JSON file.";
                }
            };

            reader.onerror = function () {
                document.getElementById('file-status').textContent = "Error reading file.";
            };

            reader.readAsText(file);
        }
    </script>
    <script src="questions.js"></script>
</body>

</html>
